<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://youis.top</id>
    <title>Edençš„åšå®¢</title>
    <updated>2021-01-12T09:36:01.224Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://youis.top"/>
    <link rel="self" href="https://youis.top/atom.xml"/>
    <subtitle>æµ®ç”Ÿè‹¥æ¢¦ï¼Œäººç”Ÿå‡ ä½•</subtitle>
    <logo>https://youis.top/images/avatar.png</logo>
    <icon>https://youis.top/favicon.ico</icon>
    <rights>All rights reserved 2021, Edençš„åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[oracle SQLè¯­å¥è½¬æ¢ä¸ºmysql  è¯­å¥]]></title>
        <id>https://youis.top/post/QsOATQYns/</id>
        <link href="https://youis.top/post/QsOATQYns/">
        </link>
        <updated>2021-01-11T03:11:58.000Z</updated>
        <summary type="html"><![CDATA[<p>å®ä¹ æœŸé—´é‡åˆ°oracleè½¬æ¢SQLçš„æƒ…å†µã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>å®ä¹ æœŸé—´é‡åˆ°oracleè½¬æ¢SQLçš„æƒ…å†µã€‚</p>
<!-- more -->
<h2 id="oracle-decodeè½¬æ¢">oracle decodeè½¬æ¢</h2>
<p>ä¾‹å¦‚orcaleçš„è¿™æ ·çš„ä¸€ä¸ªsqlå¥å­ï¼š</p>
<pre><code class="language-sql">select * from ï¼ˆè¡¨) where id in('4538862','4588585','4883586','4883582','4993555','4993421','4993464')
    order by decode(id  ,'4538862','0','4883585','1','4883586','2','4883582','3','4993555','4','4993421','5','4993464','6');
</code></pre>
<p>è€Œmysqlæ²’æœ‰decodeè¿™æ ·çš„å‡½æ•°ï¼Œåˆ™è½¬ä¸ºmysqlçš„ä¸€æ ·çš„è¯­å¥ï¼Œå¯ä»¥å¦‚ä¸‹ï¼š</p>
<pre><code class="language-sql">select * from ï¼ˆè¡¨) where id in('4538862','4588585','4883586','4883582','4993555','4993421','4993464')
    order by field(id ,'4538862','4588585','4883586','4883582','4993555','4993421','4993464');
</code></pre>
<p>æ‰€ä»¥mysqlæœ‰field()å‡½æ•°è‡ªå®šä¹‰æ’åºï¼Œæ ¼å¼ä¸ºfield(value,str1,str2,str3,str4)ã€‚</p>
<h2 id="substr">substr</h2>
<p>oracleé‡Œé¢çš„substrå’Œmysqlä¸ä¸€æ ·ï¼Œoracleçš„æ˜¯é›¶å¼€å§‹ç®—ç¬¬ä¸€ä¸ªï¼Œè€Œmysqlæ˜¯1ã€‚<br>
SUBSTR(str,pos,len);ä»poså¼€å§‹çš„ä½ç½®ï¼Œæˆªå–lenä¸ªå­—ç¬¦(ç©ºç™½ä¹Ÿç®—å­—ç¬¦)</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pytorchå·ç§¯ä¸€å¼ å›¾ç‰‡]]></title>
        <id>https://youis.top/post/3xMFr7DRj/</id>
        <link href="https://youis.top/post/3xMFr7DRj/">
        </link>
        <updated>2020-10-21T02:04:04.000Z</updated>
        <summary type="html"><![CDATA[<p>2020å¹´10æœˆ19æ—¥ èµ›è™å®ä¹ è®°å½•<br>
æ­å»ºä¸€ä¸ªä¸ƒå±‚ç½‘ç»œï¼Œå·ç§¯å›¾ç‰‡ã€‚<br>
ğŸ’ªğŸ’ª</p>
]]></summary>
        <content type="html"><![CDATA[<p>2020å¹´10æœˆ19æ—¥ èµ›è™å®ä¹ è®°å½•<br>
æ­å»ºä¸€ä¸ªä¸ƒå±‚ç½‘ç»œï¼Œå·ç§¯å›¾ç‰‡ã€‚<br>
ğŸ’ªğŸ’ª</p>
<!-- more -->
<pre><code class="language-python">import torch
import torch.nn as nn

from PIL import Image
import torchvision.transforms as trs


class Net(nn.Module):
    def __init__(self):
        super(Net, self).__init__()  # è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•
        # å¼€å§‹æ­å»ºç½‘ç»œå±‚
        # ä¸­é—´å±‚
        self.layers = nn.Sequential(
            # ä¸­é—´å±‚ç¬¬ä¸€å±‚
            nn.Conv2d(in_channels=3, out_channels=16, kernel_size=3, stride=1, padding=0),
            nn.ReLU(),  # æ¿€æ´»å‡½æ•°ï¼šç»™ç½‘ç»œå±‚æä¾›éçº¿æ€§èƒ½åŠ›
            nn.MaxPool2d(2, 2),  # æ± åŒ–å±‚ï¼šåŠ é€Ÿå·ç§¯ï¼ŒN,16,15,15
            #
            nn.Conv2d(16, 64, 3, 1),  # N, 64,13,13
            nn.ReLU(),
            #
            nn.Conv2d(64, 70, 3, 1),
            nn.ReLU(),
            #
            nn.Conv2d(70, 80, 3, 1),  # N,80,12,12
            nn.ReLU(),
            #
            nn.Conv2d(80, 128, 3, 1),
            nn.ReLU(),
            # ç¬¬å…­å±‚
            nn.Conv2d(128, 80, 3, 1),
            nn.ReLU(),
            # ç¬¬ä¸ƒå±‚
            nn.Conv2d(80, 128, 3, 1),
            nn.ReLU()
        )
        # è¾“å‡ºå±‚ï¼Œæ ¹æ®ä¸­é—´å±‚æœ€åçš„å½¢çŠ¶è¿›è¡Œå®šä¹‰
        self.output_layer = nn.Sequential(
            # çº¿æ€§å±‚
            # nn.Linear(80 * 80 * 3, 10)
            nn.Linear(128 * 169 * 237, 10)  # ï¼ˆæ¥æ”¶çš„ç‰¹å¾æ•°ï¼Œè¾“å‡ºç»“æœæ•°ï¼‰
        )

    def forward(self, x):  # å‰å‘è®¡ç®—
        h = self.layers(x)  # ä¸­é—´å±‚ï¼Œå·ç§¯(NCHW)
        print(h.shape)  # è·å–ä¸­é—´å±‚æœ€åçš„å½¢çŠ¶
        # è½¬æ¢å½¢çŠ¶NCHWä¸ºNV
        h = h.reshape(-1, 128 * 169 * 237)  # è½¬æ¢å½¢çŠ¶NCHWä¸ºNV
        h = self.output_layer(h)  # è¾“å‡ºå±‚ï¼Œçº¿æ€§(NV)
        return h


if __name__ == '__main__':
    net = Net()
    img = Image.open(&quot;pic.jpg&quot;)
    # è½¬åŒ–  imageå›¾ç‰‡  ä¸º  tensorçŸ©é˜µ
    x = trs.ToTensor()(img)
    print(x.shape)  # æŸ¥çœ‹å½¢çŠ¶CHW
    x = x.reshape(1, 3, 365, 500)  # å˜å½¢ä¸ºNCHW
    print(x.shape)
    y = net(x)
    print(y)
    print(y.shape)

    # x = torch.randn(1,3,32,32) #åˆ›å»ºéšæœºæ•°æ® 1å¼ 3å±‚çš„32*32çš„å›¾ç‰‡
    # y = net(x)
    # print(y.shape)
    # print(y)

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pythonå®ç°äºŒç»´ç ]]></title>
        <id>https://youis.top/post/Kc4zbUSnd/</id>
        <link href="https://youis.top/post/Kc4zbUSnd/">
        </link>
        <updated>2020-10-16T06:20:39.000Z</updated>
        <summary type="html"><![CDATA[<p>å®ç°äºŒç»´ç ï¼Œ<br>
å››ä½äºŒç»´ç ï¼Œå‰ä¸¤ä½æ•°å­—ï¼Œåä¸¤ä½å¤§å†™å­—æ¯ã€‚<br>
ğŸ˜ğŸ˜ğŸ˜æ•ˆæœå¦‚ä¸‹ï¼š<br>
<img src="https://image.youis.top/test.jpg" alt="" loading="lazy"><br>
æ˜¯ä¸æ˜¯å¾ˆæœ‰å“ªå‘³ğŸ¤ğŸ¤ğŸ¤</p>
]]></summary>
        <content type="html"><![CDATA[<p>å®ç°äºŒç»´ç ï¼Œ<br>
å››ä½äºŒç»´ç ï¼Œå‰ä¸¤ä½æ•°å­—ï¼Œåä¸¤ä½å¤§å†™å­—æ¯ã€‚<br>
ğŸ˜ğŸ˜ğŸ˜æ•ˆæœå¦‚ä¸‹ï¼š<br>
<img src="https://image.youis.top/test.jpg" alt="" loading="lazy"><br>
æ˜¯ä¸æ˜¯å¾ˆæœ‰å“ªå‘³ğŸ¤ğŸ¤ğŸ¤</p>
<!-- more -->
<pre><code class="language-python"># encoding: utf-8
&quot;&quot;&quot;
@author: Eden
@contact: .....
@time: 2020/10/15 14:52
@file: test06.py
@desc: 
&quot;&quot;&quot;
from PIL import Image, ImageDraw, ImageFont
import random


# ç”ŸæˆéªŒè¯ç 

# ASCII å­—ç¬¦çš„å¯¹åº”å€¼
# ç”Ÿæˆéšæœºå­—æ¯
def randomchar(x):
    if i &lt;= 1:  # å‰ä¸¤ä½æ˜¯æ•°å­—
        return chr(random.randint(48, 57))  # éšæœºç”Ÿæˆæ•°å­—
    else:  # å…¶ä»–çš„æ˜¯A~Z
        return chr(random.randint(65, 90))  # éšå³ç”ŸæˆA~Z
    # æ•°å­—0~9çš„å­—ç¬¦å¯¹åº”48~57
    # å°å†™å­—æ¯å¯¹åº”97~122


def randomcl1():
    return (random.randint(64, 255),
            random.randint(64, 255),
            random.randint(64, 255))


def randomcl2():
    return (random.randint(0, 127),
            random.randint(0, 127),
            random.randint(0, 127))


width = 240
height = 100

# åˆ›å»ºç”»æ¿
img = Image.new(&quot;RGB&quot;, (width, height), (255, 255, 255))
# åˆ›å»ºç”»ç¬”
draw = ImageDraw.Draw(img)
# åˆ›å»ºå­—ä½“
font = ImageFont.truetype(&quot;arial.ttf&quot;, 60)

# å¡«å……åƒç´ 
for x in range(width):
    for y in range(height):
        draw.point((x, y), randomcl1())

# ç”ŸæˆéªŒè¯ç ï¼Œå¡«å……é¢œè‰²
for i in range(4):
    draw.text((60 * i, 15), randomchar(x), randomcl2(), font)
img.show()
img.save(&quot;test.jpg&quot;)

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pytorchæµ‹è¯•demo]]></title>
        <id>https://youis.top/post/KXGXsI0Gv/</id>
        <link href="https://youis.top/post/KXGXsI0Gv/">
        </link>
        <updated>2020-10-16T02:09:50.000Z</updated>
        <summary type="html"><![CDATA[<p>pytorchä¸€ä¸ªç®€å•çš„æµ‹è¯•ä»£ç ã€‚<br>
æ‰‹å†™æ•°å­—è¯†åˆ«<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
]]></summary>
        <content type="html"><![CDATA[<p>pytorchä¸€ä¸ªç®€å•çš„æµ‹è¯•ä»£ç ã€‚<br>
æ‰‹å†™æ•°å­—è¯†åˆ«<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
<!-- more -->
<pre><code class="language-python"># coding: utf-8
import torch
import torch.nn as nn
import torchvision.datasets as dsets
import torchvision.transforms as transforms
from torch.autograd import Variable
import torch.utils.data as Data
import matplotlib.pyplot as plt

input_size = 784  # è¾“å…¥å¤§å°
hidden_size = 500  # ç¬¬ä¸€å±‚çš„ç¥ç»å…ƒä¸ªæ•°
num_classes = 10  # ç±»åˆ«ä¸ªæ•°
num_epochs = 5  # è¿­ä»£æ¬¡æ•°
batch_size = 100  # æ¯ä¸€æ‰¹çš„æ•°ç›®
learning_rate = 0.001  # å­¦ä¹ ç‡

train_dataset = dsets.MNIST(root='./data', train=True,
                            transform=transforms.ToTensor(), download=True)  # åŠ è½½æ•°æ®é›†
test_dataset = dsets.MNIST(root='./data', train=False,
                           transform=transforms.ToTensor(), download=True)  # åŠ è½½æµ‹è¯•é›†

train_loader = torch.utils.data.DataLoader(dataset=train_dataset,
                                           batch_size=batch_size, shuffle=True)  # shuffleä¸ºTrueï¼šåœ¨æ¯ä¸ªepoché‡æ–°æ’åˆ—æ•°æ®
test_loader = torch.utils.data.DataLoader(dataset=test_dataset,
                                          batch_size=batch_size, shuffle=False)


# In[4]:


class Net(nn.Module):
    def __init__(self, input_size, hidden_size, num_classes):
        super(Net, self).__init__()
        self.fc1 = nn.Linear(input_size, hidden_size)
        self.relu = nn.ReLU()
        self.fc2 = nn.Linear(hidden_size, num_classes)

    def forward(self, x):
        out = self.fc1(x)
        out = self.relu(out)
        out = self.fc2(out)

        return out


# In[5]:


net = Net(input_size, hidden_size, num_classes)  # åˆ›å»ºæ¨¡å‹
criterion = nn.CrossEntropyLoss()  # åˆ›å»ºæŸå¤±å‡½æ•°ï¼ˆç”¨çš„äº¤å‰ç†µï¼‰
optimizer = torch.optim.Adam(net.parameters(), lr=learning_rate)  # æ¢¯åº¦ä¸‹é™

# In[6]:


for epoch in range(num_epochs):
    for i, (images, labels) in enumerate(train_loader):
        images = Variable(images.view(-1, 28 * 28))
        label = Variable(labels)

        optimizer.zero_grad()  # å°†æƒé‡åˆå§‹åŒ–ä¸º0
        outputs = net(images)
        loss = criterion(outputs, labels)
        loss.backward()

        optimizer.step()  # æ›´æ–°æƒé‡

        if (i + 1) % 100 == 0:
            print('Epoch [%d/%d], Step [%d/%d],Loss:%.4f' % (epoch + 1, num_epochs, i + 1,
                                                             len(train_dataset) // batch_size, loss.item()))

# In[7]:


# é¢„æµ‹æ•°æ®
correct = 0
total = 0
for images, labels in test_loader:
    images = Variable(images.view(-1, 28 * 28))
    outputs = net(images)
    _, predicted = torch.max(outputs.data, 1)
    total += labels.size(0)
    correct += (predicted == labels).sum()
print('Accuracy of the network on the 10000 test images:%d %%' % (100 * correct // total))

# In[8]:


plt.imshow(test_dataset.data[-25].numpy(), cmap='gray')
plt.title('%i ' % (predicted[-25]))

plt.show()

# In[9]:


# å‚¨å­˜æ¨¡å‹
torch.save(net, 'model1.pkl')

# In[10]:


# åŠ è½½æ¨¡å‹
model = torch.load('model1.pkl')

# In[11]:


# é¢„æµ‹æ•°æ®
correct = 0
total = 0
for images, labels in test_loader:
    images = Variable(images.view(-1, 28 * 28))
    outputs = model(images)
    _, predicted = torch.max(outputs.data, 1)
    total += labels.size(0)
    correct += (predicted == labels).sum()
print('Accuracy of the network on the 10000 test images:%d %%' % (100 * torch.true_divide(correct, total)))

# In[12]:


torch.save(net.state_dict(), 'model2.pkl')
net.load_state_dict(torch.load('model2.pkl'))

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[PythonæœŸæœ«è€ƒè¯•æ¡ˆä¾‹ä»£ç ]]></title>
        <id>https://youis.top/post/DHq7otHwc/</id>
        <link href="https://youis.top/post/DHq7otHwc/">
        </link>
        <updated>2020-08-31T11:30:00.000Z</updated>
        <summary type="html"><![CDATA[<p>æœŸæœ«è€ƒè¯•çš„æ¡ˆä¾‹ä»£ç æ€»ç»“<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœŸæœ«è€ƒè¯•çš„æ¡ˆä¾‹ä»£ç æ€»ç»“<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
<!-- more -->
<pre><code class="language-Python">from random import randint
'''
ç¼–å†™ç¨‹åºï¼Œç”ŸæˆåŒ…å«1000ä¸ª0åˆ°100ä¹‹é—´çš„éšæœºæ•´æ•°ï¼Œå¹¶ç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°
'''
lis = [randint(0, 100) for i in range(0, 1000)]
for i in set(lis):
    print(i, &quot;:&quot;, lis.count(i))
</code></pre>
<pre><code class="language-python">    '''
ç¼–å†™ç¨‹åºï¼Œç”ŸæˆåŒ…å«20ä¸ªéšæœºæ•°çš„åˆ—è¡¨ï¼Œç„¶åå°†å‰10ä¸ªå…ƒç´ å‡åºæ’åˆ—ï¼Œ
å10ä¸ªå…ƒç´ é™åºæ’åˆ—ï¼Œå¹¶è¾“å‡ºç»“æœã€‚
'''
from random import randint
lis = [randint(0, 100) for i in range(0, 20)]
print(sorted(lis[:10])+sorted(lis[10:],reverse=True))
</code></pre>
<pre><code class="language-python">'''
ç¼–å†™ç¨‹åºï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 20 ä¸ªéšæœºæ•´æ•°çš„åˆ—è¡¨ï¼Œ
ç„¶åå¯¹å…¶ä¸­å¶æ•°ä¸‹æ ‡çš„å…ƒç´ è¿›è¡Œé™åºæ’åˆ—ï¼Œå¥‡æ•°ä¸‹æ ‡çš„å…ƒç´ ä¸å˜ã€‚
'''
from random import randint
lis = [randint(0, 100) for i in range(0, 20)]
even = sorted(lis[::2], reverse=True)  # å¶æ•°ä¸‹æ ‡
print(lis)
print(even)
for i in range(0, 10):
    lis[i*2] = even[i]
print(lis)
</code></pre>
<pre><code class="language-python">'''
åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡ï¼Œä½¿ç”¨åˆ‡ç‰‡å®ç°ã€‚
'''
oldstr = &quot;123aba321&quot;
if oldstr == oldstr[::-1]:
    print(&quot;æ˜¯å›æ–‡å­—ç¬¦ä¸²&quot;)
else:
    print(&quot;ä¸æ˜¯å›æ–‡å­—ç¬¦ä¸²&quot;)
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ansibleéƒ¨ç½²K8s_v1.18.4ç¯å¢ƒ]]></title>
        <id>https://youis.top/post/154qMkJXW/</id>
        <link href="https://youis.top/post/154qMkJXW/">
        </link>
        <updated>2020-06-28T13:18:15.000Z</updated>
        <summary type="html"><![CDATA[<p>Kubernetesæ˜¯Gooleå¼€æºçš„ä¸€ä¸ªå®¹å™¨ç¼–æ’å¼•æ“ï¼Œå®ƒæ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ã€å¤§è§„æ¨¡å¯ä¼¸ç¼©ã€åº”ç”¨å®¹å™¨åŒ–ç®¡ç†ã€‚<br>
æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨æœ¬åœ°è‡ªè¡Œæ­å»ºä¸€å¥—k8sé›†ç¾¤ã€‚<br>
æœ¬æ–‡æ‰€æ¶‰åŠçš„æ‰€æœ‰é…ç½®æ–‡ä»¶è¯¦è§&quot;ç¦»çº¿åŒ…å’Œé•œåƒæ±‡æ€»èµ„æ–™&quot;ã€‚<br>
<img src="https://image.youis.top/QQ%E6%88%AA%E5%9B%BE20200627233552.jpg" alt="" loading="lazy"></p>
]]></summary>
        <content type="html"><![CDATA[<p>Kubernetesæ˜¯Gooleå¼€æºçš„ä¸€ä¸ªå®¹å™¨ç¼–æ’å¼•æ“ï¼Œå®ƒæ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ã€å¤§è§„æ¨¡å¯ä¼¸ç¼©ã€åº”ç”¨å®¹å™¨åŒ–ç®¡ç†ã€‚<br>
æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨æœ¬åœ°è‡ªè¡Œæ­å»ºä¸€å¥—k8sé›†ç¾¤ã€‚<br>
æœ¬æ–‡æ‰€æ¶‰åŠçš„æ‰€æœ‰é…ç½®æ–‡ä»¶è¯¦è§&quot;ç¦»çº¿åŒ…å’Œé•œåƒæ±‡æ€»èµ„æ–™&quot;ã€‚<br>
<img src="https://image.youis.top/QQ%E6%88%AA%E5%9B%BE20200627233552.jpg" alt="" loading="lazy"></p>
<!-- more -->
<p>ç”±äºMarkdownä¸å¥½ç¼–æ’ï¼Œæˆ‘é™„ä¸ŠWordè¿æ¥<br>
ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡<br>
<a href="http://cloud.youis.top/?r=/download&amp;path=L0Fuc2libGUvQW5zaWJsZemDqOe9sks4c192MS4xOC40546v5aKDMjAyMDA2MjTvvIjoh6rliqjljJbohJrmnKzvvIkuZG9jeA%3D%3D">Ansibleéƒ¨ç½²K8s_v1.18.4ç¯å¢ƒ.docx</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pythonæ£€ç´¢å…³é”®å­—]]></title>
        <id>https://youis.top/post/nqFG2uASl/</id>
        <link href="https://youis.top/post/nqFG2uASl/">
        </link>
        <updated>2020-06-20T02:04:51.000Z</updated>
        <summary type="html"><![CDATA[<p>æ‰¾åˆ°åœ¨æŸä¸ªç›®å½•ä¸‹é¢æ‰€æœ‰çš„æ–‡ä»¶å†…å®¹é‡Œé¢æœ‰å…³é”®å­—&quot;info&quot;çš„æ–‡ä»¶ï¼Œå°†è¿™äº›æ–‡ä»¶è·¯å¾„å­˜å‚¨åœ¨ä¸€ä¸ªt1.pklçš„æ–‡ä»¶é‡Œé¢</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ‰¾åˆ°åœ¨æŸä¸ªç›®å½•ä¸‹é¢æ‰€æœ‰çš„æ–‡ä»¶å†…å®¹é‡Œé¢æœ‰å…³é”®å­—&quot;info&quot;çš„æ–‡ä»¶ï¼Œå°†è¿™äº›æ–‡ä»¶è·¯å¾„å­˜å‚¨åœ¨ä¸€ä¸ªt1.pklçš„æ–‡ä»¶é‡Œé¢</p>
<!-- more -->
<pre><code class="language-python"># encoding: utf-8
&quot;&quot;&quot;
@author: Eden
@contact: .....
@time: 2020/6/20 9:21
@file: test.py
@desc:
&quot;&quot;&quot;
import os
import re


def listdir(path):
    &quot;&quot;&quot;
    éå†å‡ºï¼Œç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
    @param path:  str
    &quot;&quot;&quot;
    for file in os.listdir(path):
        file_path = os.path.join(path, file)
        if os.path.isdir(file_path):  # å¦‚æœè¯¥æ–‡ä»¶æ˜¯ç›®å½•
            # print(file_path)
            listdir(file_path)  # ç»§ç»­é€’å½’éå†
        else:
            # print(file_path)
            keyword_search(file_path)  # è¯»å–æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­—ã€‚


def keyword_search(file_path):
    &quot;&quot;&quot;
    æ‰“å¼€æ–‡ä»¶ï¼Œæœç´¢å…³é”®å­—ã€‚
    @param file_path:
    &quot;&quot;&quot;
    f1 = open(file_path, &quot;r&quot;, encoding=&quot;utf-8&quot;)
    content = f1.read()
    # print(&quot;è¾“å‡ºæ–‡ä»¶å†…å®¹ï¼š\n&quot;, content)  # è¾“å‡ºæ–‡ä»¶å†…å®¹
    count = len(re.findall(keyword, content))
    # re.findall()è¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨
    if count != 0:  # å¦‚æœä¸ªæ•°ä¸ä¸º 0
        print(file_path)
        with open('t1.pkl', 'a+') as f:
            f.write(file_path + '\n')  # ä¿å­˜åˆ°è¯¥æ–‡ä»¶


if __name__ == '__main__':
    # start = time.clock()
    work_path = r&quot;D:\python\TestProject\PythonClassroom\work20\test&quot;  # å¾…æ£€ç´¢çš„ç›®å½•
    keyword = &quot;info&quot;  # æ£€ç´¢çš„å…³é”®å­—
    if os.path.isdir(work_path):
        listdir(work_path)  # ç›®å½•éå†
    else:
        print(&quot;è¯·è¾“å…¥ä¸€ä¸ªç›®å½•ï¼ï¼&quot;)
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è§£å†³pycurlå®‰è£…é”™è¯¯]]></title>
        <id>https://youis.top/post/HYW8Js4p1/</id>
        <link href="https://youis.top/post/HYW8Js4p1/">
        </link>
        <updated>2020-06-03T06:43:49.000Z</updated>
        <summary type="html"><![CDATA[<p>ç”±äºlibcurlçš„æºç ç¼–è¯‘å› ç´ ï¼Œåœ¨å®‰è£…pycurlå¯èƒ½ä¼šå¯¼è‡´ä»¥ä¸‹ä¸¤ç§é”™è¯¯ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ç”±äºlibcurlçš„æºç ç¼–è¯‘å› ç´ ï¼Œåœ¨å®‰è£…pycurlå¯èƒ½ä¼šå¯¼è‡´ä»¥ä¸‹ä¸¤ç§é”™è¯¯ã€‚</p>
<!-- more -->
<p>é”™è¯¯1ï¼š</p>
<p>ImportError: pycurl: libcurl link-time ssl backend (<strong>openssl</strong>) is different from compile-time ssl backend (none/other)</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<p>é”™è¯¯1çš„è§£å†³åŠæ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="language-shell"> pip uninstall pycurl
#export PYCURL_SSL_LIBRARY=[nss|openssl|ssl|gnutls]
#å‚æ•°ç”±æŠ¥é”™ä¿¡æ¯æ‹¬å·é‡Œé¢çš„å†…å®¹å†³å®šã€‚è¿™é‡Œæ‹¬å·é‡Œé¢æ˜¯  openssl
export PYCURL_SSL_LIBRARY=openssl

pip install pycurl
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pythonå®ç°æŸ¥æ‰¾å’Œæ’åº]]></title>
        <id>https://youis.top/post/dfjsdhfbjdsbfj/</id>
        <link href="https://youis.top/post/dfjsdhfbjdsbfj/">
        </link>
        <updated>2020-05-24T02:04:44.000Z</updated>
        <summary type="html"><![CDATA[<p>å­¦ä¹ pythonçš„åŒæ—¶é¡ºä¾¿å¤ä¹ æ•°æ®ç»“æ„ã€‚<br>
ğŸ™Œæ²¡äºº<br>
ğŸ‘æ¯”æˆ‘<br>
ğŸ‘Œæ›´æ‡‚<br>
ğŸ‘†å¤ä¹ ğŸ˜œ<br>
æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>å­¦ä¹ pythonçš„åŒæ—¶é¡ºä¾¿å¤ä¹ æ•°æ®ç»“æ„ã€‚<br>
ğŸ™Œæ²¡äºº<br>
ğŸ‘æ¯”æˆ‘<br>
ğŸ‘Œæ›´æ‡‚<br>
ğŸ‘†å¤ä¹ ğŸ˜œ<br>
æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>
<!-- more -->
<h1 id="é¡ºåºæŸ¥æ‰¾">é¡ºåºæŸ¥æ‰¾</h1>
<h1 id="æŠ˜åŠæŸ¥æ‰¾">æŠ˜åŠæŸ¥æ‰¾</h1>
<p>def binary_search(nums, key):<br>
left, right = 0, len(nums) - 1<br>
while left &lt;= right:<br>
mid = (left + right) // 2<br>
if nums[mid] == key:<br>
# è¿”å›ç´¢å¼•ä½ç½®<br>
return mid<br>
elif nums[mid] &lt; key:<br>
left = mid + 1<br>
elif nums[mid] &gt; key:<br>
right = mid - 1<br>
return -1  # æ²¡æœ‰æ‰¾åˆ°è¿”å› -1</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br>
lis = [2, 3, 4, 5, 5, 5, 6, 7, 23, 45, 90]<br>
print(binary_search(lis, 110))</p>
<h1 id="åˆ†å—æŸ¥æ‰¾">åˆ†å—æŸ¥æ‰¾</h1>
<h1 id="ç›´æ¥æ’å…¥æ’åº">ç›´æ¥æ’å…¥æ’åº</h1>
<h1 id="æŠ˜åŠæ’å…¥æ’åº">æŠ˜åŠæ’å…¥æ’åº</h1>
<h1 id="å¸Œå°”æ’åº">å¸Œå°”æ’åº</h1>
<h1 id="å†’æ³¡æ’åº">å†’æ³¡æ’åº</h1>
<p>ç›¸ä¿¡å†’æ³¡æ’åºå·²ç»è¢«å¤§å®¶æ‰€ç†ŸçŸ¥,ä¸‹é¢çš„ä»£ç å¯¹å†’æ³¡æ’åºè¿›è¡Œäº†ç®€å•ä¼˜åŒ–ã€‚</p>
<pre><code class="language-python">def bubble_sort(nums):
    for i in range(len(nums) - 1):
        ex_flag = False
        for j in range(len(nums) - 1 - i):
            if nums[j] &gt; nums[j + 1]:
                nums[j], nums[j + 1] = nums[j + 1], nums[j]
                ex_flag = True
        if not ex_flag:
            return nums
    return nums


if __name__ == '__main__':
    lis = [2, 4, 5, 6, 7, 3, 5, 90, 45, 23, 5]
    print(bubble_sort(lis))
</code></pre>
<h1 id="å¿«é€Ÿæ’åº">å¿«é€Ÿæ’åº</h1>
<h1 id="ç®€å•é€‰æ‹©æ’åº">ç®€å•é€‰æ‹©æ’åº</h1>
<p>def select_sort(nums):<br>
for i in range(len(nums)):<br>
nums_min = i<br>
for j in range(i + 1, len(nums)):<br>
if nums[j] &lt; nums[nums_min]:<br>
nums_min = j<br>
nums[i], nums[nums_min] = nums[nums_min], nums[i]<br>
return nums</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br>
lis = [2, 4, 5, 6, 7, 3, 5, 90, 45, 23, 5]<br>
print(select_sort(lis))</p>
<h1 id="å †æ’åº">å †æ’åº</h1>
<h1 id="å½’å¹¶æ’åº">å½’å¹¶æ’åº</h1>
<h1 id="åŸºæ•°æ’åº">åŸºæ•°æ’åº</h1>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç³»ç»Ÿå·¡æ£€è„šæœ¬]]></title>
        <id>https://youis.top/post/xi-tong-xun-jian-jiao-ben/</id>
        <link href="https://youis.top/post/xi-tong-xun-jian-jiao-ben/">
        </link>
        <updated>2020-05-20T14:00:29.000Z</updated>
        <summary type="html"><![CDATA[<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½œä¸ºæ—¥å¸¸å·¡æ£€ä»»åŠ¡ï¼Œæ—¶åˆ»è¦æ³¨æ„ä¸»æœºçš„å„ç§ç¡¬ä»¶çŠ¶æ€ï¼Œå¦‚æœæ˜¯è§„æ¨¡è¾ƒå¤§çš„æœåŠ¡é›†ç¾¤ï¼Œä¸€èˆ¬ä½¿ç”¨zabbixç­‰å¥åº·å·¥å…·ï¼Œå¦‚æœåªæ˜¯ä¸€äº›å°è§„æ¨¡çš„æœåŠ¡ä¸»æœºï¼Œshellå°±ä¼šè¡¨ç°çš„æ›´çµæ´»ï¼Œä¹Ÿæ›´é€‚ç”¨ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ç³»ç»Ÿå·¡æ£€è„šæœ¬ã€‚è¯•è¿è¡Œï¼Œæ‰¾å‡ºå…¶ä¸­çš„é”™è¯¯ï¼Œå¹¶ä¿®æ”¹ï¼Œç„¶åæ‰“å°å‡ºæ‰§è¡Œç»“æœã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½œä¸ºæ—¥å¸¸å·¡æ£€ä»»åŠ¡ï¼Œæ—¶åˆ»è¦æ³¨æ„ä¸»æœºçš„å„ç§ç¡¬ä»¶çŠ¶æ€ï¼Œå¦‚æœæ˜¯è§„æ¨¡è¾ƒå¤§çš„æœåŠ¡é›†ç¾¤ï¼Œä¸€èˆ¬ä½¿ç”¨zabbixç­‰å¥åº·å·¥å…·ï¼Œå¦‚æœåªæ˜¯ä¸€äº›å°è§„æ¨¡çš„æœåŠ¡ä¸»æœºï¼Œshellå°±ä¼šè¡¨ç°çš„æ›´çµæ´»ï¼Œä¹Ÿæ›´é€‚ç”¨ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ç³»ç»Ÿå·¡æ£€è„šæœ¬ã€‚è¯•è¿è¡Œï¼Œæ‰¾å‡ºå…¶ä¸­çš„é”™è¯¯ï¼Œå¹¶ä¿®æ”¹ï¼Œç„¶åæ‰“å°å‡ºæ‰§è¡Œç»“æœã€‚</p>
<!-- more -->
<p>vi syscheck.sh</p>
<pre><code class="language-sh">#!/bin/bash

function system(){
echo &quot;#########################ç³»ç»Ÿä¿¡æ¯#########################&quot;
OS_TYPE=`uname`
OS_VER=`cat /etc/redhat-release`
OS_KER=`uname -a|awk '{print $3}'`
OS_TIME=`date +%F_%T`
OS_RUN_TIME=`uptime |awk '{print $3}'|awk -F '{print $1}'`
OS_LAST_REBOOT_TIME=`who -b|awk '{print $2,$3}'`
OS_HOSTNAME=`hostname`

echo &quot;    ç³»ç»Ÿç±»å‹ï¼š$OS_TYPE&quot;
echo &quot;    ç³»ç»Ÿç‰ˆæœ¬ï¼š$OS_VER&quot;
echo &quot;    ç³»ç»Ÿå†…æ ¸ï¼š$OS_KER&quot;
echo &quot;    å½“å‰æ—¶é—´ï¼š$OS_TIME&quot;
echo &quot;    è¿è¡Œæ—¶é—´ï¼š$OS_RUN_TIME&quot;
echo &quot;æœ€åé‡å¯æ—¶é—´ï¼š$OS_LAST_REBOOT_TIME&quot;
echo &quot;    æœ¬æœºåç§°ï¼š$OS_HOSTNAME&quot;

function network(){

echo &quot;#########################ç½‘ç»œä¿¡æ¯#########################&quot;
INTERNET=(`ifconfig|grep ens|awk -F: '{print $1}'`)
for((i=0;i&lt;`echo ${#INTERNET[*]}`;i++))
do 
  OS_IP=`ifconfig ${INTERNET[$i]}|head -2|grep inet|awk '{print $2}'`
  echo &quot;      æœ¬æœºIPï¼š${INTERNET[$i]}: $OS_IP&quot;
done
curl -I http://www.baidu.com &amp;&gt;/dev/null
if [ $? -eq 0 ]
then echo &quot;    è®¿é—®å¤–ç½‘ï¼šæˆåŠŸ&quot;
else echo &quot;    è®¿é—®å¤–ç½‘ï¼šå¤±è´¥&quot;

}

function hardware(){

echo &quot;#########################ç¡¬ä»¶ä¿¡æ¯#########################&quot;
CPUID=`grep &quot;physical id&quot; /proc/cpuinfo |sort|uniq|wc -l`
CPUCORES=`grep &quot;cores&quot; /proc/cpuinfo|sort|uniq|awk -F: '{print $2}'`
CPUMODE=`grep &quot;model name&quot; /proc/cpuinfo|sort|uniq|awk -F '{print $2}'`

echo &quot;     CPUæ•°é‡: $CPUID&quot;
echo &quot;     CPUæ ¸å¿ƒ:$CPUCORES&quot;
echo &quot;     CPUå‹å·:$CPUMODE&quot;

MEMTOTAL=`free -m|grep Mem|awk '{print $2}'`
MEMFREE=`free -m|grep Mem|awk '{print $7}'`

echo &quot;  å†…å­˜æ€»å®¹é‡: ${MEMTOTAL}MB&quot;
echo &quot;å‰©ä½™å†…å­˜å®¹é‡: ${MEMFREE}MB&quot;

disksize=0
swapsize=`free|grep Swap|awk {'print $2'}`
partitionsize=(`df -T|sed 1d|egrep -v &quot;tmpfs|sr0&quot;|awk {'print $3'}`)
for ((i=0;i&lt;`echo ${#partitionsize[*]}`;i++))
do
disksize=`expr $disksize + ${partitionsize[$i]}`
done
((disktotal=\($disksize+$swapsize\)/1024/1024))

echo &quot;  ç£ç›˜æ€»å®¹é‡: ${disktotal}GB&quot;

diskfree=0
swapfree=`free|grep Swap|awk '{print $4}'`
partitionfree=(`df -T|sed 1d|egrep -v &quot;tmpfs|sr0&quot;|awk '{print $5}'`)
for ((i=0;i&lt;`echo ${#partitionfree[*]}`;i++))
do
diskfree=`expr $diskfree + ${partitionfree[$i]}`
done

((freetotal=\($diskfree+$swapfree\)/1024/1024))

echo &quot;å‰©ä½™ç£ç›˜å®¹é‡ï¼š${freetotal}GB&quot;
}


function secure(){
echo &quot;#########################å®‰å…¨ä¿¡æ¯#########################&quot;

countuser=(`last|grep &quot;still logged in&quot;|awk '{print $1}'|sort|uniq`)
for ((i=0;i&lt;`echo ${#countuser[*]}`;i++))
do echo &quot;å½“å‰ç™»å½•ç”¨æˆ·ï¼š${countuser[$i]}&quot;
done

md5sum /etc/passwd &gt; /opt/passwd.db
md5sum -c --quiet /opt/passwd.db &amp;&gt;/dev/null
if [ $? -eq 0 ]
then echo &quot;    ç”¨æˆ·å¼‚å¸¸ï¼šå¦&quot;
else echo &quot;    ç”¨æˆ·å¼‚å¸¸ï¼šæ˜¯&quot;
fi
}

function chksys(){
system
network
hardware
secure
}
</code></pre>
<p>æç¤ºä¸€ï¼š<br>
<img src="https://image.youis.top/20200520220351.png" alt="" loading="lazy"><br>
ifå‡½æ•°æ²¡æœ‰ç»“å°¾  34è¡Œæ·»åŠ   fi<br>
æç¤ºäºŒï¼š</p>
<p><img src="https://image.youis.top/20200520220403.png" alt="" loading="lazy"><br>
å‡½æ•° system ç¼ºå°‘  }  20è¡Œæ·»åŠ   }<br>
æç¤ºä¸‰ï¼š<br>
<img src="https://image.youis.top/20200520220416.png" alt="" loading="lazy"><br>
å‡½æ•°æ²¡æœ‰è°ƒç”¨ åœ¨å‡½æ•°æœ«å°¾è°ƒç”¨ chksyså‡½æ•°<br>
æç¤ºå››ï¼š<br>
<img src="https://image.youis.top/20200520220429.png" alt="" loading="lazy"></p>
<p>ç¬¬9è¡Œ OS_RUN_TIME=<code>uptime |awk '{print $3}'|awk -F '{print $1}'</code>  AWK å­˜åœ¨ç®¡é“ä¿¡æ¯,-Fåé¢æ²¡æœ‰å‚æ•°<br>
æç¤ºäº”ï¼š<br>
<img src="https://image.youis.top/20200520220439.png" alt="" loading="lazy"><br>
ç¬¬43è¡Œ #CPUMODE=<code>grep &quot;model name&quot; /proc/cpuinfo|sort|uniq|awk -F '{print $2}'</code><br>
awk   -F  æ²¡æœ‰æ›´å‚æ•°</p>
<figure data-type="image" tabindex="1"><img src="https://image.youis.top/20200520215758.png" alt="" loading="lazy"></figure>
<p>ä¿®æ­£ä»£ç ï¼š</p>
<pre><code class="language-sh">#!/bin/bash

function system(){
echo &quot;#########################ç³»ç»Ÿä¿¡æ¯#########################&quot;
OS_TYPE=`uname`
OS_VER=`cat /etc/redhat-release`
OS_KER=`uname -a|awk '{print $3}'`
OS_TIME=`date +%F_%T`
#OS_RUN_TIME=`uptime |awk '{print $3}'|awk -F '{print $1}'`
OS_RUN_TIME=`uptime |awk '{print $3}'|awk -F,  '{print $1}'`
OS_LAST_REBOOT_TIME=`who -b|awk '{print $2,$3}'`
OS_HOSTNAME=`hostname`

echo &quot;    ç³»ç»Ÿç±»å‹ï¼š$OS_TYPE&quot;
echo &quot;    ç³»ç»Ÿç‰ˆæœ¬ï¼š$OS_VER&quot;
echo &quot;    ç³»ç»Ÿå†…æ ¸ï¼š$OS_KER&quot;
echo &quot;    å½“å‰æ—¶é—´ï¼š$OS_TIME&quot;
echo &quot;    è¿è¡Œæ—¶é—´ï¼š$OS_RUN_TIME&quot;
echo &quot;æœ€åé‡å¯æ—¶é—´ï¼š$OS_LAST_REBOOT_TIME&quot;
echo &quot;    æœ¬æœºåç§°ï¼š$OS_HOSTNAME&quot;
}
function network(){

echo &quot;#########################ç½‘ç»œä¿¡æ¯#########################&quot;
INTERNET=(`ifconfig|grep ens|awk -F: '{print $1}'`)
for((i=0;i&lt;`echo ${#INTERNET[*]}`;i++))
do 
  OS_IP=`ifconfig ${INTERNET[$i]}|head -2|grep inet|awk '{print $2}'`
  echo &quot;      æœ¬æœºIPï¼š${INTERNET[$i]}: $OS_IP&quot;
done
curl -I http://www.baidu.com &amp;&gt;/dev/null
if [ $? -eq 0 ]
then echo &quot;    è®¿é—®å¤–ç½‘ï¼šæˆåŠŸ&quot;
else echo &quot;    è®¿é—®å¤–ç½‘ï¼šå¤±è´¥&quot;
fi
}

function hardware(){

echo &quot;#########################ç¡¬ä»¶ä¿¡æ¯#########################&quot;
CPUID=`grep &quot;physical id&quot; /proc/cpuinfo |sort|uniq|wc -l`
CPUCORES=`grep &quot;cores&quot; /proc/cpuinfo|sort|uniq|awk -F: '{print $2}'`
#CPUMODE=`grep &quot;model name&quot; /proc/cpuinfo|sort|uniq|awk -F '{print $2}'`
CPUMODE=`grep &quot;model name&quot; /proc/cpuinfo|sort|uniq|awk -F: '{print $2}'`

echo &quot;     CPUæ•°é‡: $CPUID&quot;
echo &quot;     CPUæ ¸å¿ƒ:$CPUCORES&quot;
echo &quot;     CPUå‹å·:$CPUMODE&quot;

MEMTOTAL=`free -m|grep Mem|awk '{print $2}'`
MEMFREE=`free -m|grep Mem|awk '{print $7}'`

echo &quot;  å†…å­˜æ€»å®¹é‡: ${MEMTOTAL}MB&quot;
echo &quot;å‰©ä½™å†…å­˜å®¹é‡: ${MEMFREE}MB&quot;

disksize=0
swapsize=`free|grep Swap|awk {'print $2'}`
partitionsize=(`df -T|sed 1d|egrep -v &quot;tmpfs|sr0&quot;|awk {'print $3'}`)
for ((i=0;i&lt;`echo ${#partitionsize[*]}`;i++))
do
disksize=`expr $disksize + ${partitionsize[$i]}`
done
((disktotal=\($disksize+$swapsize\)/1024/1024))

echo &quot;  ç£ç›˜æ€»å®¹é‡: ${disktotal}GB&quot;

diskfree=0
swapfree=`free|grep Swap|awk '{print $4}'`
partitionfree=(`df -T|sed 1d|egrep -v &quot;tmpfs|sr0&quot;|awk '{print $5}'`)
for ((i=0;i&lt;`echo ${#partitionfree[*]}`;i++))
do
diskfree=`expr $diskfree + ${partitionfree[$i]}`
done

((freetotal=\($diskfree+$swapfree\)/1024/1024))

echo &quot;å‰©ä½™ç£ç›˜å®¹é‡ï¼š${freetotal}GB&quot;
}


function secure(){
echo &quot;#########################å®‰å…¨ä¿¡æ¯#########################&quot;

countuser=(`last|grep &quot;still logged in&quot;|awk '{print $1}'|sort|uniq`)
for ((i=0;i&lt;`echo ${#countuser[*]}`;i++))
do echo &quot;å½“å‰ç™»å½•ç”¨æˆ·ï¼š${countuser[$i]}&quot;
done

md5sum /etc/passwd &gt; /opt/passwd.db
md5sum -c --quiet /opt/passwd.db &amp;&gt;/dev/null
if [ $? -eq 0 ]
then echo &quot;    ç”¨æˆ·å¼‚å¸¸ï¼šå¦&quot;
else echo &quot;    ç”¨æˆ·å¼‚å¸¸ï¼šæ˜¯&quot;
fi
}

function chksys(){
system
network
hardware
secure
}
chksys
</code></pre>
]]></content>
    </entry>
</feed>
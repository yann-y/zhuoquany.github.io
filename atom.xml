<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://youis.top</id>
    <title>Edençš„åšå®¢</title>
    <updated>2021-03-24T10:23:29.170Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://youis.top"/>
    <link rel="self" href="https://youis.top/atom.xml"/>
    <subtitle>æµ®ç”Ÿè‹¥æ¢¦ï¼Œäººç”Ÿå‡ ä½•</subtitle>
    <logo>https://youis.top/images/avatar.png</logo>
    <icon>https://youis.top/favicon.ico</icon>
    <rights>All rights reserved 2021, Edençš„åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[seleniumä¿å­˜éªŒè¯ç ]]></title>
        <id>https://youis.top/post/71n23tXXt/</id>
        <link href="https://youis.top/post/71n23tXXt/">
        </link>
        <updated>2021-03-24T10:14:06.000Z</updated>
        <summary type="html"><![CDATA[<p>selenuimæ˜¯æ”¯æŒä¿å­˜å›¾ç‰‡çš„ã€‚<br>
ä¸ç”¨å®šä½æˆªå›¾ä»€ä¹ˆçš„éªšæ“ä½œã€‚<br>
screenshot_as_pngæ–¹æ³•å°±å¯ä»¥å¾ˆå¥½çš„ä¿å­˜å›¾ç‰‡ã€‚æ¯”å¦‚ä¿å­˜éªŒè¯ç <br>
ä¸å¤šè¯´ç›´æ¥é™„ä¸Šä»£ç ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>selenuimæ˜¯æ”¯æŒä¿å­˜å›¾ç‰‡çš„ã€‚<br>
ä¸ç”¨å®šä½æˆªå›¾ä»€ä¹ˆçš„éªšæ“ä½œã€‚<br>
screenshot_as_pngæ–¹æ³•å°±å¯ä»¥å¾ˆå¥½çš„ä¿å­˜å›¾ç‰‡ã€‚æ¯”å¦‚ä¿å­˜éªŒè¯ç <br>
ä¸å¤šè¯´ç›´æ¥é™„ä¸Šä»£ç ã€‚</p>
<!-- more -->
<pre><code class="language-python">code1 = driver.find_element_by_xpath('//*[@id=&quot;app&quot;]/div/div[3]/div[5]/div/img')  # å®šä½éªŒè¯ç 
screenshot_as_bytes = code1.screenshot_as_png
 # å›¾ç‰‡åœ°å€
image = &quot;elemenent.png&quot;
 # è¦†ç›–å†™å…¥ç…§ç‰‡
with open(image, 'wb') as f:
         f.write(screenshot_as_bytes)
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[dockeréƒ¨ç½²Flink]]></title>
        <id>https://youis.top/post/Mvd5xLHrv/</id>
        <link href="https://youis.top/post/Mvd5xLHrv/">
        </link>
        <updated>2021-03-04T06:54:20.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<p>docker pull flink<br>
æ–°å»ºæ–‡ä»¶å¤¹docker-flinkï¼Œæ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶docker-compose.ymlï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code>version: &quot;2.1&quot;
services:
  jobmanager:
    image: flink
    expose:
      - &quot;6123&quot;
    ports:
      - &quot;8081:8081&quot;
    command: jobmanager
    environment:
      - JOB_MANAGER_RPC_ADDRESS=jobmanager
 
  taskmanager:
    image: flink
    expose:
      - &quot;6121&quot;
      - &quot;6122&quot;
    depends_on:
      - jobmanager
    command: taskmanager
    links:
      - &quot;jobmanager:jobmanager&quot;
    environment:
      - JOB_MANAGER_RPC_ADDRESS=jobmanager
      ```
docker-compose up -d
httpè®¿é—®ç«¯å£8081.  ip:8081å°±èƒ½è®¿é—®ã€‚</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[dockeréƒ¨ç½²kafka]]></title>
        <id>https://youis.top/post/_YPMmlbGK/</id>
        <link href="https://youis.top/post/_YPMmlbGK/">
        </link>
        <updated>2021-03-04T06:42:19.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<p>ç¬¬ä¸€æ­¥æ‹‰å–kafkaé•œåƒ<br>
docker pull wurstmeister/kafka<br>
ç¬¬äºŒæ­¥å¯åŠ¨kafkaé•œåƒç”Ÿæˆå®¹å™¨<br>
docker run -d --restart=always --log-driver json-file --log-opt max-size=100m --log-opt max-file=2 --name kafka <br>  -p 9092:9092 -e KAFKA_BROKER_ID=0 -e KAFKA_ZOOKEEPER_CONNECT=172.22.46.189:2181/kafka <br>  -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://172.22.46.189:9092 -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 <br>  -v /etc/localtime:/etc/localtime wurstmeister/kafka<br>
å‚æ•°è¯´æ˜ï¼š<br>
-e KAFKA_BROKER_ID=0  åœ¨kafkaé›†ç¾¤ä¸­ï¼Œæ¯ä¸ªkafkaéƒ½æœ‰ä¸€ä¸ªBROKER_IDæ¥åŒºåˆ†è‡ªå·±<br>
-e KAFKA_ZOOKEEPER_CONNECT=172.20.10.10:2181/kafka é…ç½®zookeeperç®¡ç†kafkaçš„è·¯å¾„172.20.10.10:2181/kafka<br>
-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://172.22.46.189:9092  æŠŠkafkaçš„åœ°å€ç«¯å£æ³¨å†Œç»™zookeeperï¼Œå¦‚æœæ˜¯è¿œç¨‹è®¿é—®è¦æ”¹æˆå¤–ç½‘IP,ç±»å¦‚Javaç¨‹åºè®¿é—®å‡ºç°æ— æ³•è¿æ¥ã€‚<br>
-e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 é…ç½®kafkaçš„ç›‘å¬ç«¯å£<br>
-v /etc/localtime:/etc/localtime å®¹å™¨æ—¶é—´åŒæ­¥è™šæ‹Ÿæœºçš„æ—¶é—´<br>
5ã€éªŒè¯kafkaæ˜¯å¦å¯ä»¥ä½¿ç”¨<br>
5.1ã€è¿›å…¥å®¹å™¨<br>
$ docker exec -it kafka bash</p>
<p>5.2ã€è¿›å…¥ /opt/kafka_2.12-2.3.0/bin/ ç›®å½•ä¸‹<br>
$ cd /opt/kafka_2.12-2.3.0/bin/</p>
<p>5.3ã€è¿è¡Œkafkaç”Ÿäº§è€…å‘é€æ¶ˆæ¯<br>
$ ./kafka-console-producer.sh --broker-list localhost:9092 --topic sun</p>
<p>å‘é€æ¶ˆæ¯</p>
<blockquote>
<p>hello word!</p>
</blockquote>
<p>5.4ã€è¿è¡Œkafkaæ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯<br>
$ ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic sun --from-beginning</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[mysqlè®°å½•]]></title>
        <id>https://youis.top/post/rkqmey8YJ/</id>
        <link href="https://youis.top/post/rkqmey8YJ/">
        </link>
        <updated>2021-01-12T09:40:43.000Z</updated>
        <summary type="html"><![CDATA[<p>SQLçš„ä¸€äº›è®°å½•<br>
ç¨‹åºå‘˜SQLå¾ˆé‡è¦ï¼Œä¸ç®¡å¹²ä»€ä¹ˆæ€»è¦æ¥è§¦åˆ°æ•°æ®åº“ã€‚<br>
å¯è§†åŒ–ç•Œé¢ä¸æ˜¯ä¸‡èƒ½çš„ï¼ŒSQLè¯­å¥æ‰æ˜¯æ°¸æ’ä¸å˜çš„çœŸç†ã€‚<br>
æ˜¨å¤©è§£å†³äº†Nå¤šä¸ªbugæ²¡æœ‰è®°å½•å°±å¾ˆçƒ¦ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>SQLçš„ä¸€äº›è®°å½•<br>
ç¨‹åºå‘˜SQLå¾ˆé‡è¦ï¼Œä¸ç®¡å¹²ä»€ä¹ˆæ€»è¦æ¥è§¦åˆ°æ•°æ®åº“ã€‚<br>
å¯è§†åŒ–ç•Œé¢ä¸æ˜¯ä¸‡èƒ½çš„ï¼ŒSQLè¯­å¥æ‰æ˜¯æ°¸æ’ä¸å˜çš„çœŸç†ã€‚<br>
æ˜¨å¤©è§£å†³äº†Nå¤šä¸ªbugæ²¡æœ‰è®°å½•å°±å¾ˆçƒ¦ã€‚</p>
<!-- more -->
<h2 id="æ•°æ®å•ä½">æ•°æ®å•ä½</h2>
<p>è¦è§£å†³çš„é—®é¢˜: æŸè¡¨æŸå­—æ®µç”¨æ¥è¡¨ç¤ºäº¤æ˜“é‡‘é¢,ä¸åŒè®°å½•çš„é‡‘é¢ç›¸å·®å¾ˆå¤§,æœ‰çš„åªæœ‰å‡ å…ƒå‡ è§’å‡ åˆ†,æœ‰çš„å´ä¸Šäº¿.å¦‚æœç›´æ¥å°±æŠŠæ•°å€¼åœ¨é¡µé¢ä¸Šå±•ç¤ºå‡ºæ¥,åˆ™å¯è¯»æ€§ä¸ä½³.å› æ­¤æˆ‘ä»¬éœ€è¦å°†å…¶å•ä½å±•ç¤ºå‡ºæ¥,å¦‚1.23å…ƒ,3.45ä¸‡,4.56äº¿ç­‰.<br>
è§£å†³æ–¹æ³•:ç”¨case whenåˆ¤æ–­æ•°å€¼æ‰€åœ¨åŒºé—´,ç”¨convertå‡½æ•°å°†è®¡ç®—åçš„æ•°å€¼ç•™ä¸‹ä¸¤ä½å°æ•°,ç”¨concatå‡½æ•°å°†è®¡ç®—åçš„æ•°å€¼å’Œå•ä½è¿æ¥åœ¨ä¸€èµ·.<br>
å½¢æˆçš„SQLè¯­å¥æ˜¯:</p>
<pre><code class="language-sql">select id,value,(case when value&lt;10000  then concat(convert(value,decimal(12,2)),'å…ƒ')
             when value&lt;100000000 then concat(convert(value/10000,decimal(12,2)),'ä¸‡')
             else concat(convert(value/100000000,decimal(12,2)),'äº¿') end) as newCol from tb_number ;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[oracle SQLè¯­å¥è½¬æ¢ä¸ºmysql  è¯­å¥]]></title>
        <id>https://youis.top/post/QsOATQYns/</id>
        <link href="https://youis.top/post/QsOATQYns/">
        </link>
        <updated>2021-01-11T03:11:58.000Z</updated>
        <summary type="html"><![CDATA[<p>å®ä¹ æœŸé—´é‡åˆ°oracleè½¬æ¢SQLçš„æƒ…å†µã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>å®ä¹ æœŸé—´é‡åˆ°oracleè½¬æ¢SQLçš„æƒ…å†µã€‚</p>
<!-- more -->
<h2 id="oracle-decodeè½¬æ¢">oracle decodeè½¬æ¢</h2>
<p>ä¾‹å¦‚orcaleçš„è¿™æ ·çš„ä¸€ä¸ªsqlå¥å­ï¼š</p>
<pre><code class="language-sql">select * from ï¼ˆè¡¨) where id in('4538862','4588585','4883586','4883582','4993555','4993421','4993464')
    order by decode(id  ,'4538862','0','4883585','1','4883586','2','4883582','3','4993555','4','4993421','5','4993464','6');
</code></pre>
<p>è€Œmysqlæ²’æœ‰decodeè¿™æ ·çš„å‡½æ•°ï¼Œåˆ™è½¬ä¸ºmysqlçš„ä¸€æ ·çš„è¯­å¥ï¼Œå¯ä»¥å¦‚ä¸‹ï¼š</p>
<pre><code class="language-sql">select * from ï¼ˆè¡¨) where id in('4538862','4588585','4883586','4883582','4993555','4993421','4993464')
    order by field(id ,'4538862','4588585','4883586','4883582','4993555','4993421','4993464');
</code></pre>
<p>æ‰€ä»¥mysqlæœ‰field()å‡½æ•°è‡ªå®šä¹‰æ’åºï¼Œæ ¼å¼ä¸ºfield(value,str1,str2,str3,str4)ã€‚</p>
<h2 id="substr">substr</h2>
<p>oracleé‡Œé¢çš„substrå’Œmysqlä¸ä¸€æ ·ï¼Œoracleçš„æ˜¯é›¶å¼€å§‹ç®—ç¬¬ä¸€ä¸ªï¼Œè€Œmysqlæ˜¯1ã€‚<br>
SUBSTR(str,pos,len);ä»poså¼€å§‹çš„ä½ç½®ï¼Œæˆªå–lenä¸ªå­—ç¬¦(ç©ºç™½ä¹Ÿç®—å­—ç¬¦)</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pytorchå·ç§¯ä¸€å¼ å›¾ç‰‡]]></title>
        <id>https://youis.top/post/3xMFr7DRj/</id>
        <link href="https://youis.top/post/3xMFr7DRj/">
        </link>
        <updated>2020-10-21T02:04:04.000Z</updated>
        <summary type="html"><![CDATA[<p>2020å¹´10æœˆ19æ—¥ èµ›è™å®ä¹ è®°å½•<br>
æ­å»ºä¸€ä¸ªä¸ƒå±‚ç½‘ç»œï¼Œå·ç§¯å›¾ç‰‡ã€‚<br>
ğŸ’ªğŸ’ª</p>
]]></summary>
        <content type="html"><![CDATA[<p>2020å¹´10æœˆ19æ—¥ èµ›è™å®ä¹ è®°å½•<br>
æ­å»ºä¸€ä¸ªä¸ƒå±‚ç½‘ç»œï¼Œå·ç§¯å›¾ç‰‡ã€‚<br>
ğŸ’ªğŸ’ª</p>
<!-- more -->
<pre><code class="language-python">import torch
import torch.nn as nn

from PIL import Image
import torchvision.transforms as trs


class Net(nn.Module):
    def __init__(self):
        super(Net, self).__init__()  # è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•
        # å¼€å§‹æ­å»ºç½‘ç»œå±‚
        # ä¸­é—´å±‚
        self.layers = nn.Sequential(
            # ä¸­é—´å±‚ç¬¬ä¸€å±‚
            nn.Conv2d(in_channels=3, out_channels=16, kernel_size=3, stride=1, padding=0),
            nn.ReLU(),  # æ¿€æ´»å‡½æ•°ï¼šç»™ç½‘ç»œå±‚æä¾›éçº¿æ€§èƒ½åŠ›
            nn.MaxPool2d(2, 2),  # æ± åŒ–å±‚ï¼šåŠ é€Ÿå·ç§¯ï¼ŒN,16,15,15
            #
            nn.Conv2d(16, 64, 3, 1),  # N, 64,13,13
            nn.ReLU(),
            #
            nn.Conv2d(64, 70, 3, 1),
            nn.ReLU(),
            #
            nn.Conv2d(70, 80, 3, 1),  # N,80,12,12
            nn.ReLU(),
            #
            nn.Conv2d(80, 128, 3, 1),
            nn.ReLU(),
            # ç¬¬å…­å±‚
            nn.Conv2d(128, 80, 3, 1),
            nn.ReLU(),
            # ç¬¬ä¸ƒå±‚
            nn.Conv2d(80, 128, 3, 1),
            nn.ReLU()
        )
        # è¾“å‡ºå±‚ï¼Œæ ¹æ®ä¸­é—´å±‚æœ€åçš„å½¢çŠ¶è¿›è¡Œå®šä¹‰
        self.output_layer = nn.Sequential(
            # çº¿æ€§å±‚
            # nn.Linear(80 * 80 * 3, 10)
            nn.Linear(128 * 169 * 237, 10)  # ï¼ˆæ¥æ”¶çš„ç‰¹å¾æ•°ï¼Œè¾“å‡ºç»“æœæ•°ï¼‰
        )

    def forward(self, x):  # å‰å‘è®¡ç®—
        h = self.layers(x)  # ä¸­é—´å±‚ï¼Œå·ç§¯(NCHW)
        print(h.shape)  # è·å–ä¸­é—´å±‚æœ€åçš„å½¢çŠ¶
        # è½¬æ¢å½¢çŠ¶NCHWä¸ºNV
        h = h.reshape(-1, 128 * 169 * 237)  # è½¬æ¢å½¢çŠ¶NCHWä¸ºNV
        h = self.output_layer(h)  # è¾“å‡ºå±‚ï¼Œçº¿æ€§(NV)
        return h


if __name__ == '__main__':
    net = Net()
    img = Image.open(&quot;pic.jpg&quot;)
    # è½¬åŒ–  imageå›¾ç‰‡  ä¸º  tensorçŸ©é˜µ
    x = trs.ToTensor()(img)
    print(x.shape)  # æŸ¥çœ‹å½¢çŠ¶CHW
    x = x.reshape(1, 3, 365, 500)  # å˜å½¢ä¸ºNCHW
    print(x.shape)
    y = net(x)
    print(y)
    print(y.shape)

    # x = torch.randn(1,3,32,32) #åˆ›å»ºéšæœºæ•°æ® 1å¼ 3å±‚çš„32*32çš„å›¾ç‰‡
    # y = net(x)
    # print(y.shape)
    # print(y)

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pythonå®ç°äºŒç»´ç ]]></title>
        <id>https://youis.top/post/Kc4zbUSnd/</id>
        <link href="https://youis.top/post/Kc4zbUSnd/">
        </link>
        <updated>2020-10-16T06:20:39.000Z</updated>
        <summary type="html"><![CDATA[<p>å®ç°äºŒç»´ç ï¼Œ<br>
å››ä½äºŒç»´ç ï¼Œå‰ä¸¤ä½æ•°å­—ï¼Œåä¸¤ä½å¤§å†™å­—æ¯ã€‚<br>
ğŸ˜ğŸ˜ğŸ˜æ•ˆæœå¦‚ä¸‹ï¼š<br>
<img src="https://image.youis.top/test.jpg" alt="" loading="lazy"><br>
æ˜¯ä¸æ˜¯å¾ˆæœ‰å“ªå‘³ğŸ¤ğŸ¤ğŸ¤</p>
]]></summary>
        <content type="html"><![CDATA[<p>å®ç°äºŒç»´ç ï¼Œ<br>
å››ä½äºŒç»´ç ï¼Œå‰ä¸¤ä½æ•°å­—ï¼Œåä¸¤ä½å¤§å†™å­—æ¯ã€‚<br>
ğŸ˜ğŸ˜ğŸ˜æ•ˆæœå¦‚ä¸‹ï¼š<br>
<img src="https://image.youis.top/test.jpg" alt="" loading="lazy"><br>
æ˜¯ä¸æ˜¯å¾ˆæœ‰å“ªå‘³ğŸ¤ğŸ¤ğŸ¤</p>
<!-- more -->
<pre><code class="language-python"># encoding: utf-8
&quot;&quot;&quot;
@author: Eden
@contact: .....
@time: 2020/10/15 14:52
@file: test06.py
@desc: 
&quot;&quot;&quot;
from PIL import Image, ImageDraw, ImageFont
import random


# ç”ŸæˆéªŒè¯ç 

# ASCII å­—ç¬¦çš„å¯¹åº”å€¼
# ç”Ÿæˆéšæœºå­—æ¯
def randomchar(x):
    if i &lt;= 1:  # å‰ä¸¤ä½æ˜¯æ•°å­—
        return chr(random.randint(48, 57))  # éšæœºç”Ÿæˆæ•°å­—
    else:  # å…¶ä»–çš„æ˜¯A~Z
        return chr(random.randint(65, 90))  # éšå³ç”ŸæˆA~Z
    # æ•°å­—0~9çš„å­—ç¬¦å¯¹åº”48~57
    # å°å†™å­—æ¯å¯¹åº”97~122


def randomcl1():
    return (random.randint(64, 255),
            random.randint(64, 255),
            random.randint(64, 255))


def randomcl2():
    return (random.randint(0, 127),
            random.randint(0, 127),
            random.randint(0, 127))


width = 240
height = 100

# åˆ›å»ºç”»æ¿
img = Image.new(&quot;RGB&quot;, (width, height), (255, 255, 255))
# åˆ›å»ºç”»ç¬”
draw = ImageDraw.Draw(img)
# åˆ›å»ºå­—ä½“
font = ImageFont.truetype(&quot;arial.ttf&quot;, 60)

# å¡«å……åƒç´ 
for x in range(width):
    for y in range(height):
        draw.point((x, y), randomcl1())

# ç”ŸæˆéªŒè¯ç ï¼Œå¡«å……é¢œè‰²
for i in range(4):
    draw.text((60 * i, 15), randomchar(x), randomcl2(), font)
img.show()
img.save(&quot;test.jpg&quot;)

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pytorchæµ‹è¯•demo]]></title>
        <id>https://youis.top/post/KXGXsI0Gv/</id>
        <link href="https://youis.top/post/KXGXsI0Gv/">
        </link>
        <updated>2020-10-16T02:09:50.000Z</updated>
        <summary type="html"><![CDATA[<p>pytorchä¸€ä¸ªç®€å•çš„æµ‹è¯•ä»£ç ã€‚<br>
æ‰‹å†™æ•°å­—è¯†åˆ«<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
]]></summary>
        <content type="html"><![CDATA[<p>pytorchä¸€ä¸ªç®€å•çš„æµ‹è¯•ä»£ç ã€‚<br>
æ‰‹å†™æ•°å­—è¯†åˆ«<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
<!-- more -->
<pre><code class="language-python"># coding: utf-8
import torch
import torch.nn as nn
import torchvision.datasets as dsets
import torchvision.transforms as transforms
from torch.autograd import Variable
import torch.utils.data as Data
import matplotlib.pyplot as plt

input_size = 784  # è¾“å…¥å¤§å°
hidden_size = 500  # ç¬¬ä¸€å±‚çš„ç¥ç»å…ƒä¸ªæ•°
num_classes = 10  # ç±»åˆ«ä¸ªæ•°
num_epochs = 5  # è¿­ä»£æ¬¡æ•°
batch_size = 100  # æ¯ä¸€æ‰¹çš„æ•°ç›®
learning_rate = 0.001  # å­¦ä¹ ç‡

train_dataset = dsets.MNIST(root='./data', train=True,
                            transform=transforms.ToTensor(), download=True)  # åŠ è½½æ•°æ®é›†
test_dataset = dsets.MNIST(root='./data', train=False,
                           transform=transforms.ToTensor(), download=True)  # åŠ è½½æµ‹è¯•é›†

train_loader = torch.utils.data.DataLoader(dataset=train_dataset,
                                           batch_size=batch_size, shuffle=True)  # shuffleä¸ºTrueï¼šåœ¨æ¯ä¸ªepoché‡æ–°æ’åˆ—æ•°æ®
test_loader = torch.utils.data.DataLoader(dataset=test_dataset,
                                          batch_size=batch_size, shuffle=False)


# In[4]:


class Net(nn.Module):
    def __init__(self, input_size, hidden_size, num_classes):
        super(Net, self).__init__()
        self.fc1 = nn.Linear(input_size, hidden_size)
        self.relu = nn.ReLU()
        self.fc2 = nn.Linear(hidden_size, num_classes)

    def forward(self, x):
        out = self.fc1(x)
        out = self.relu(out)
        out = self.fc2(out)

        return out


# In[5]:


net = Net(input_size, hidden_size, num_classes)  # åˆ›å»ºæ¨¡å‹
criterion = nn.CrossEntropyLoss()  # åˆ›å»ºæŸå¤±å‡½æ•°ï¼ˆç”¨çš„äº¤å‰ç†µï¼‰
optimizer = torch.optim.Adam(net.parameters(), lr=learning_rate)  # æ¢¯åº¦ä¸‹é™

# In[6]:


for epoch in range(num_epochs):
    for i, (images, labels) in enumerate(train_loader):
        images = Variable(images.view(-1, 28 * 28))
        label = Variable(labels)

        optimizer.zero_grad()  # å°†æƒé‡åˆå§‹åŒ–ä¸º0
        outputs = net(images)
        loss = criterion(outputs, labels)
        loss.backward()

        optimizer.step()  # æ›´æ–°æƒé‡

        if (i + 1) % 100 == 0:
            print('Epoch [%d/%d], Step [%d/%d],Loss:%.4f' % (epoch + 1, num_epochs, i + 1,
                                                             len(train_dataset) // batch_size, loss.item()))

# In[7]:


# é¢„æµ‹æ•°æ®
correct = 0
total = 0
for images, labels in test_loader:
    images = Variable(images.view(-1, 28 * 28))
    outputs = net(images)
    _, predicted = torch.max(outputs.data, 1)
    total += labels.size(0)
    correct += (predicted == labels).sum()
print('Accuracy of the network on the 10000 test images:%d %%' % (100 * correct // total))

# In[8]:


plt.imshow(test_dataset.data[-25].numpy(), cmap='gray')
plt.title('%i ' % (predicted[-25]))

plt.show()

# In[9]:


# å‚¨å­˜æ¨¡å‹
torch.save(net, 'model1.pkl')

# In[10]:


# åŠ è½½æ¨¡å‹
model = torch.load('model1.pkl')

# In[11]:


# é¢„æµ‹æ•°æ®
correct = 0
total = 0
for images, labels in test_loader:
    images = Variable(images.view(-1, 28 * 28))
    outputs = model(images)
    _, predicted = torch.max(outputs.data, 1)
    total += labels.size(0)
    correct += (predicted == labels).sum()
print('Accuracy of the network on the 10000 test images:%d %%' % (100 * torch.true_divide(correct, total)))

# In[12]:


torch.save(net.state_dict(), 'model2.pkl')
net.load_state_dict(torch.load('model2.pkl'))

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[PythonæœŸæœ«è€ƒè¯•æ¡ˆä¾‹ä»£ç ]]></title>
        <id>https://youis.top/post/DHq7otHwc/</id>
        <link href="https://youis.top/post/DHq7otHwc/">
        </link>
        <updated>2020-08-31T11:30:00.000Z</updated>
        <summary type="html"><![CDATA[<p>æœŸæœ«è€ƒè¯•çš„æ¡ˆä¾‹ä»£ç æ€»ç»“<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœŸæœ«è€ƒè¯•çš„æ¡ˆä¾‹ä»£ç æ€»ç»“<br>
ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
<!-- more -->
<pre><code class="language-Python">from random import randint
'''
ç¼–å†™ç¨‹åºï¼Œç”ŸæˆåŒ…å«1000ä¸ª0åˆ°100ä¹‹é—´çš„éšæœºæ•´æ•°ï¼Œå¹¶ç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°
'''
lis = [randint(0, 100) for i in range(0, 1000)]
for i in set(lis):
    print(i, &quot;:&quot;, lis.count(i))
</code></pre>
<pre><code class="language-python">    '''
ç¼–å†™ç¨‹åºï¼Œç”ŸæˆåŒ…å«20ä¸ªéšæœºæ•°çš„åˆ—è¡¨ï¼Œç„¶åå°†å‰10ä¸ªå…ƒç´ å‡åºæ’åˆ—ï¼Œ
å10ä¸ªå…ƒç´ é™åºæ’åˆ—ï¼Œå¹¶è¾“å‡ºç»“æœã€‚
'''
from random import randint
lis = [randint(0, 100) for i in range(0, 20)]
print(sorted(lis[:10])+sorted(lis[10:],reverse=True))
</code></pre>
<pre><code class="language-python">'''
ç¼–å†™ç¨‹åºï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 20 ä¸ªéšæœºæ•´æ•°çš„åˆ—è¡¨ï¼Œ
ç„¶åå¯¹å…¶ä¸­å¶æ•°ä¸‹æ ‡çš„å…ƒç´ è¿›è¡Œé™åºæ’åˆ—ï¼Œå¥‡æ•°ä¸‹æ ‡çš„å…ƒç´ ä¸å˜ã€‚
'''
from random import randint
lis = [randint(0, 100) for i in range(0, 20)]
even = sorted(lis[::2], reverse=True)  # å¶æ•°ä¸‹æ ‡
print(lis)
print(even)
for i in range(0, 10):
    lis[i*2] = even[i]
print(lis)
</code></pre>
<pre><code class="language-python">'''
åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡ï¼Œä½¿ç”¨åˆ‡ç‰‡å®ç°ã€‚
'''
oldstr = &quot;123aba321&quot;
if oldstr == oldstr[::-1]:
    print(&quot;æ˜¯å›æ–‡å­—ç¬¦ä¸²&quot;)
else:
    print(&quot;ä¸æ˜¯å›æ–‡å­—ç¬¦ä¸²&quot;)
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ansibleéƒ¨ç½²K8s_v1.18.4ç¯å¢ƒ]]></title>
        <id>https://youis.top/post/154qMkJXW/</id>
        <link href="https://youis.top/post/154qMkJXW/">
        </link>
        <updated>2020-06-28T13:18:15.000Z</updated>
        <summary type="html"><![CDATA[<p>Kubernetesæ˜¯Gooleå¼€æºçš„ä¸€ä¸ªå®¹å™¨ç¼–æ’å¼•æ“ï¼Œå®ƒæ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ã€å¤§è§„æ¨¡å¯ä¼¸ç¼©ã€åº”ç”¨å®¹å™¨åŒ–ç®¡ç†ã€‚<br>
æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨æœ¬åœ°è‡ªè¡Œæ­å»ºä¸€å¥—k8sé›†ç¾¤ã€‚<br>
æœ¬æ–‡æ‰€æ¶‰åŠçš„æ‰€æœ‰é…ç½®æ–‡ä»¶è¯¦è§&quot;ç¦»çº¿åŒ…å’Œé•œåƒæ±‡æ€»èµ„æ–™&quot;ã€‚<br>
<img src="https://image.youis.top/QQ%E6%88%AA%E5%9B%BE20200627233552.jpg" alt="" loading="lazy"></p>
]]></summary>
        <content type="html"><![CDATA[<p>Kubernetesæ˜¯Gooleå¼€æºçš„ä¸€ä¸ªå®¹å™¨ç¼–æ’å¼•æ“ï¼Œå®ƒæ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ã€å¤§è§„æ¨¡å¯ä¼¸ç¼©ã€åº”ç”¨å®¹å™¨åŒ–ç®¡ç†ã€‚<br>
æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨æœ¬åœ°è‡ªè¡Œæ­å»ºä¸€å¥—k8sé›†ç¾¤ã€‚<br>
æœ¬æ–‡æ‰€æ¶‰åŠçš„æ‰€æœ‰é…ç½®æ–‡ä»¶è¯¦è§&quot;ç¦»çº¿åŒ…å’Œé•œåƒæ±‡æ€»èµ„æ–™&quot;ã€‚<br>
<img src="https://image.youis.top/QQ%E6%88%AA%E5%9B%BE20200627233552.jpg" alt="" loading="lazy"></p>
<!-- more -->
<p>ç”±äºMarkdownä¸å¥½ç¼–æ’ï¼Œæˆ‘é™„ä¸ŠWordè¿æ¥<br>
ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡<br>
<a href="http://cloud.youis.top/?r=/download&amp;path=L0Fuc2libGUvQW5zaWJsZemDqOe9sks4c192MS4xOC40546v5aKDMjAyMDA2MjTvvIjoh6rliqjljJbohJrmnKzvvIkuZG9jeA%3D%3D">Ansibleéƒ¨ç½²K8s_v1.18.4ç¯å¢ƒ.docx</a></p>
]]></content>
    </entry>
</feed>